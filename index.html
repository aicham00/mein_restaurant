<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdn.tailwindcss.com"></script>
  <title>تسجيل المطاعم ومحلات الحلويات</title>
  <link rel="stylesheet" href="styles.css"> <!-- ربط ملف CSS -->
</head>
<body class="min-h-screen bg-blue-300">
  <div class="flex flex-col mx-auto max-w-5xl bg-white shadow-lg">
    <!-- Header -->
    <header class="flex justify-between items-center bg-pink-500 text-white p-4">
      <div class="flex items-center">
        <img src="https://icons.iconarchive.com/icons/iconarchive/fruit-soft-illustration/48/Raspberry-icon.png" alt="Logo" class="h-8 w-8 mr-2">
        <span>مطعمي</span>
      </div>
      <nav>
        <ul class="flex space-x-4">
          <li><a href="#" class="hover:text-gray-400">الرئيسية</a></li>
        </ul>
      </nav>
    </header>

    <!-- Welcome Message -->
    <section class="text-center p-6 bg-pink-500 text-white">
      <h1 class="text-3xl font-bold">مرحبا بكم في مطعمي</h1>
      <p class="mt-2">نحن هنا لخدمتكم وتسجيل مطاعمكم ومحلات الحلويات بكل سهولة</p>
    </section>

    <!-- Main Content -->
    <main class="flex-grow p-6">
      <h1 class="text-2xl font-bold mb-4 text-pink-500">تسجيل مطعم أو محل حلويات</h1>
      <form id="restaurantForm" class="space-y-4" enctype="multipart/form-data">
        <div class="flex space-x-4">
          <div class="w-1/2">
            <label class="block text-gray-700">نوع المتجر</label>
            <select id="storeType" class="w-full p-2 rounded border border-pink-500">
              <option value="مطعم - أكلات تقليدية">مطعم - أكلات تقليدية</option>
              <option value="مطعم - Fast Food">مطعم - Fast Food</option>
              <option value="محل حلويات - تقليدية">محل حلويات - تقليدية</option>
              <option value="محل حلويات - عصرية">محل حلويات - عصرية</option>
            </select>
          </div>
          <div class="w-1/2">
            <label class="block text-gray-700">اسم المتجر</label>
            <input id="storeName" type="text" class="w-full p-2 rounded border border-pink-500" placeholder="ادخل اسم المتجر">
          </div>
        </div>
        <div>
          <label class="block text-gray-700">رقم الهاتف</label>
          <input id="storePhone" type="text" class="w-full p-2 rounded border border-pink-500" placeholder="ادخل رقم الهاتف">
        </div>
        <div>
          <label class="block text-gray-700">اسم الوجبة</label>
          <input id="mealName" type="text" class="w-full p-2 rounded border border-pink-500" placeholder="ادخل اسم الوجبة">
        </div>
        <div>
          <label class="block text-gray-700">صورة الوجبة</label>
          <input id="storeImage" type="file" accept="image/*" class="w-full p-2 border border-pink-500 rounded">
        </div>
        <div>
          <label class="block text-gray-700">التوصيل</label>
          <input id="deliveryAvailable" type="checkbox" class="mr-2"> متوفر
        </div>
        <button type="button" class="bg-pink-500 text-white p-2 rounded w-full" onclick="saveStore()">تسجيل المتجر</button>
      </form>

      <!-- Store List -->
      <h2 class="text-xl font-semibold mt-8 mb-4 text-pink-500">قائمة المتاجر المسجلة</h2>
      <ul id="storeList" class="space-y-2 bg-gray-100 p-4 rounded shadow">
        <!-- Stores will be displayed here -->
      </ul>
    </main>

    <!-- Footer -->
    <footer class="bg-pink-500 text-white p-4">
      <div class="text-center mt-4">
        <nav>
          <ul class="flex justify-center space-x-4">
            <li><a href="#" class="hover:text-gray-400">الرئيسية</a></li>
          </ul>
        </nav>
      </div>
      <div class="text-center mt-4">
        &copy; 2024 مطعمي - جميع الحقوق محفوظة
      </div>
    </footer>
  </div>

  <script>
    // حفظ المتجر في localStorage وعرضه
    function saveStore() {
      const storeType = document.getElementById('storeType').value;
      const storeName = document.getElementById('storeName').value;
      const storePhone = document.getElementById('storePhone').value;
      const mealName = document.getElementById('mealName').value;
      const storeImage = document.getElementById('storeImage').files[0];
      const deliveryAvailable = document.getElementById('deliveryAvailable').checked ? 'متوفر' : 'غير متوفر';

      if (!storeName || !storePhone || !mealName) {
        alert('يرجى إدخال جميع الحقول');
        return;
      }

      const reader = new FileReader();
      reader.onload = function(event) {
        const storeData = {
          storeType,
          storeName,
          storePhone,
          mealName,
          imageSrc: event.target.result,
          deliveryAvailable,
        };

        // تخزين البيانات في localStorage
        const stores = JSON.parse(localStorage.getItem('stores')) || [];
        stores.push(storeData);
        localStorage.setItem('stores', JSON.stringify(stores));

        displayStores(); // عرض المتاجر
      };

      if (storeImage) {
        reader.readAsDataURL(storeImage);
      }

      document.getElementById('restaurantForm').reset();
    }

    // عرض المتاجر المخزنة
    function displayStores() {
      const storeList = document.getElementById('storeList');
      storeList.innerHTML = '';

      const stores = JSON.parse(localStorage.getItem('stores')) || [];
      stores.forEach((store, index) => {
        const newStore = document.createElement('li');
        newStore.classList.add('p-4', 'bg-white', 'rounded', 'shadow', 'border', 'border-pink-500', 'flex', 'items-center', 'space-x-4');

        const imgElement = document.createElement('img');
        imgElement.src = store.imageSrc;
        imgElement.alt = 'صورة الوجبة';
        imgElement.classList.add('h-16', 'w-16', 'rounded-full', 'object-cover');

        const textElement = document.createElement('div');
        textElement.innerHTML = `
          <strong>${store.storeType}</strong>: ${store.storeName}<br>
          هاتف: ${store.storePhone}<br>
          الوجبة: ${store.mealName}<br>
          التوصيل: ${store.deliveryAvailable}
        `;
        textElement.classList.add('text-gray-700');

        // زر حذف المتجر
        const deleteButton = document.createElement('button');
        deleteButton.textContent = 'حذف';
        deleteButton.classList.add('bg-red-500', 'text-white', 'p-1', 'rounded');
        deleteButton.onclick = function() {
          deleteStore(index);
        };

        newStore.appendChild(imgElement);
        newStore.appendChild(textElement);
        newStore.appendChild(deleteButton);
        storeList.appendChild(newStore);
      });
    }

    // حذف المتجر من localStorage
    function deleteStore(index) {
      const stores = JSON.parse(localStorage.getItem('stores')) || [];
      stores.splice(index, 1);
      localStorage.setItem('stores', JSON.stringify(stores));
      displayStores();
    }

    // عرض المتاجر عند تحميل الصفحة
    window.onload = displayStores;
  </script>
</body>
</html>

